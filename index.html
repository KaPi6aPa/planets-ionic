<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <title>Планети Сонячної системи</title>
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, viewport-fit=cover"
  />
  <link
    rel="stylesheet"
    href="https://unpkg.com/@ionic/core/css/ionic.bundle.css"
  />
  <style>
    body {
      margin: 0;
      padding: 0;
    }

    ion-img {
      max-height: 220px;
      object-fit: cover;
    }

    .planet-card {
      cursor: pointer;
    }

    .planet-description {
      font-size: 14px;
      line-height: 1.4;
    }

    .chips-row {
      margin-top: 8px;
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .page-content {
      padding: 12px;
    }
  </style>
</head>
<body>
  <ion-app>
    <ion-router use-hash="true">
      <ion-route url="/" component="page-home"></ion-route>
      <ion-route url="/planet" component="page-planet"></ion-route>
    </ion-router>

    <ion-router-outlet></ion-router-outlet>
  </ion-app>

  <!-- Ionic core -->
  <script
    type="module"
    src="https://unpkg.com/@ionic/core/dist/ionic/ionic.esm.js"
  ></script>
  <script
    nomodule
    src="https://unpkg.com/@ionic/core/dist/ionic/ionic.js"
  ></script>

  <!-- Ionicons -->
  <script
    type="module"
    src="https://unpkg.com/ionicons/dist/ionicons/ionicons.esm.js"
  ></script>
  <script
    nomodule
    src="https://unpkg.com/ionicons/dist/ionicons/ionicons.js"
  ></script>

  <script>
    // Дані про планети
    const planets = [
      {
        name: "Меркурій",
        image:
          "https://upload.wikimedia.org/wikipedia/commons/4/4a/Mercury_in_true_color.jpg",
        description:
          "Найменша планета Сонячної системи та найближча до Сонця.",
        details: {
          temperature: "Вдень до 430°C, вночі до -180°C",
          mass: "3.3011×10^23 кг",
          distance: "57.9 млн км від Сонця",
          discovery: "Відома з давнини",
          atmosphere: "Відсутня",
          satellites: "Немає",
          missions: ["Mariner 10", "MESSENGER", "BepiColombo"],
        },
      },
      {
        name: "Венера",
        image:
          "https://upload.wikimedia.org/wikipedia/commons/e/e5/Venus-real_color.jpg",
        description: "Друга планета від Сонця, відома своєю густою атмосферою.",
        details: {
          temperature: "Середня близько 464°C",
          mass: "4.8675×10^24 кг",
          distance: "108.2 млн км від Сонця",
          discovery: "Відома з давнини",
          atmosphere: "Вуглекислий газ, азот",
          satellites: "Немає",
          missions: ["Venera", "Magellan", "Venus Express", "Akatsuki"],
        },
      },
      {
        name: "Земля",
        image:
          "https://upload.wikimedia.org/wikipedia/commons/9/97/The_Earth_seen_from_Apollo_17.jpg",
        description: "Наша рідна планета, єдина відома з життям.",
        details: {
          temperature: "Середня близько 15°C",
          mass: "5.97237×10^24 кг",
          distance: "149.6 млн км від Сонця",
          discovery: "Не застосовується",
          atmosphere: "Азот, кисень",
          satellites: "Місяць",
          missions: ["Apollo", "Міжнародна космічна станція"],
        },
      },
      {
        name: "Марс",
        image:
          "https://upload.wikimedia.org/wikipedia/commons/0/02/OSIRIS_Mars_true_color.jpg",
        description:
          'Четверта планета від Сонця, відома як "Червона планета".',
        details: {
          temperature: "Середня близько -63°C",
          mass: "6.4171×10^23 кг",
          distance: "227.9 млн км від Сонця",
          discovery: "Відома з давнини",
          atmosphere: "Вуглекислий газ, азот, аргон",
          satellites: "Фобос, Деймос",
          missions: [
            "Viking",
            "Mars Pathfinder",
            "Mars Exploration Rovers",
            "Curiosity",
            "Perseverance",
          ],
        },
      },
      {
        name: "Юпітер",
        image: "https://upload.wikimedia.org/wikipedia/commons/e/e2/Jupiter.jpg",
        description:
          "Найбільша планета Сонячної системи, газовий гігант.",
        details: {
          temperature: "Середня близько -108°C",
          mass: "1.8982×10^27 кг",
          distance: "778.5 млн км від Сонця",
          discovery: "Відома з давнини",
          atmosphere: "Водень, гелій",
          satellites:
            "Понад 79 супутників, включаючи Іо, Європу, Ганімед, Каллісто",
          missions: ["Pioneer", "Voyager", "Galileo", "Juno"],
        },
      },
      {
        name: "Сатурн",
        image:
          "https://upload.wikimedia.org/wikipedia/commons/c/c7/Saturn_during_Equinox.jpg",
        description: "Відома своїми кільцями, шоста планета від Сонця.",
        details: {
          temperature: "Середня близько -139°C",
          mass: "5.6834×10^26 кг",
          distance: "1.43 млрд км від Сонця",
          discovery: "Відома з давнини",
          atmosphere: "Водень, гелій",
          satellites:
            "Понад 82 супутники, включаючи Титан, Енцелад",
          missions: ["Pioneer 11", "Voyager", "Cassini–Huygens"],
        },
      },
      {
        name: "Уран",
        image: "https://upload.wikimedia.org/wikipedia/commons/3/3d/Uranus2.jpg",
        description:
          "Сьома планета від Сонця, крижаний гігант з унікальним нахилом осі.",
        details: {
          temperature: "Середня близько -195°C",
          mass: "8.6810×10^25 кг",
          distance: "2.87 млрд км від Сонця",
          discovery: "1781 рік, Вільям Гершель",
          atmosphere: "Водень, гелій, метан",
          satellites:
            "27 відомих супутників, включаючи Титанію, Оберон",
          missions: ["Voyager 2"],
        },
      },
      {
        name: "Нептун",
        image:
          "https://upload.wikimedia.org/wikipedia/commons/5/56/Neptune_Full.jpg",
        description:
          "Восьма планета від Сонця, крижаний гігант з найсильнішими вітрами.",
        details: {
          temperature: "Середня близько -201°C",
          mass: "1.02413×10^26 кг",
          distance: "4.5 млрд км від Сонця",
          discovery: "1846 рік, Урбен Леверʼєр та Джон Куч Адамс",
          atmosphere: "Водень, гелій, метан",
          satellites: "14 відомих супутників, включаючи Тритон",
          missions: ["Voyager 2"],
        },
      },
    ];

    // Поточна вибрана планета
    let selectedPlanet = planets[0];

    function selectPlanetByName(name) {
      const found = planets.find((p) => p.name === name);
      if (found) {
        selectedPlanet = found;
      }
    }

    // ВАЖНО: функция для клика по карточке
    function openPlanet(name) {
      selectPlanetByName(name);
      const router = document.querySelector("ion-router");
      if (router) {
        router.push("/planet");
      }
    }

    class PageHome extends HTMLElement {
      connectedCallback() {
        this.render();
      }

      render() {
        // можна обмежитись 3 планетами, щоб не перевантажувати
        const visiblePlanets = planets.slice(0, 3);

        this.innerHTML = `
          <ion-header>
            <ion-toolbar>
              <ion-title>Планети Сонячної системи</ion-title>
            </ion-toolbar>
          </ion-header>

          <ion-content fullscreen="true">
            <div class="page-content">
              <ion-grid>
                <ion-row>
                  ${visiblePlanets
                    .map(
                      (planet) => `
                    <ion-col size="12" size-md="4">
                      <ion-card class="planet-card" button="true"
                        onclick="openPlanet('${planet.name}')">
                        <ion-img src="${planet.image}" alt="${planet.name}"></ion-img>
                        <ion-card-header>
                          <ion-card-title>${planet.name}</ion-card-title>
                        </ion-card-header>
                        <ion-card-content>
                          <p class="planet-description">
                            ${planet.description}
                          </p>
                        </ion-card-content>
                      </ion-card>
                    </ion-col>
                  `
                    )
                    .join("")}
                </ion-row>
              </ion-grid>
            </div>
          </ion-content>
        `;
      }
    }

    class PagePlanet extends HTMLElement {
      connectedCallback() {
        this.render();
      }

      render() {
        const p = selectedPlanet;

        this.innerHTML = `
          <ion-header>
            <ion-toolbar>
              <ion-buttons slot="start">
                <ion-back-button defaultHref="/"></ion-back-button>
              </ion-buttons>
              <ion-title>${p.name}</ion-title>
            </ion-toolbar>
          </ion-header>

          <ion-content fullscreen="true">
            <div class="page-content">
              <ion-breadcrumbs>
                <ion-breadcrumb href="/">Головна</ion-breadcrumb>
                <ion-breadcrumb>${p.name}</ion-breadcrumb>
              </ion-breadcrumbs>

              <ion-card>
                <ion-img src="${p.image}" alt="${p.name}"></ion-img>
                <ion-card-header>
                  <ion-card-title>${p.name}</ion-card-title>
                </ion-card-header>
                <ion-card-content>
                  <p class="planet-description">
                    ${p.description}
                  </p>

                  <div class="chips-row">
                    <ion-chip>
                      <ion-label>Температура: ${p.details.temperature}</ion-label>
                    </ion-chip>
                    <ion-chip>
                      <ion-label>Маса: ${p.details.mass}</ion-label>
                    </ion-chip>
                    <ion-chip>
                      <ion-label>Відстань: ${p.details.distance}</ion-label>
                    </ion-chip>
                    <ion-chip>
                      <ion-label>Відкриття: ${p.details.discovery}</ion-label>
                    </ion-chip>
                    <ion-chip>
                      <ion-label>Атмосфера: ${p.details.atmosphere}</ion-label>
                    </ion-chip>
                    <ion-chip>
                      <ion-label>Супутники: ${p.details.satellites}</ion-label>
                    </ion-chip>
                  </div>
                </ion-card-content>
              </ion-card>

              <ion-accordion-group>
                <ion-accordion value="atmosphere">
                  <ion-item slot="header">
                    <ion-label>Хімічний склад атмосфери</ion-label>
                  </ion-item>
                  <div class="ion-padding" slot="content">
                    ${p.details.atmosphere}
                  </div>
                </ion-accordion>

                <ion-accordion value="satellites">
                  <ion-item slot="header">
                    <ion-label>Супутники</ion-label>
                  </ion-item>
                  <div class="ion-padding" slot="content">
                    ${p.details.satellites}
                  </div>
                </ion-accordion>

                <ion-accordion value="missions">
                  <ion-item slot="header">
                    <ion-label>Експедиції та місії</ion-label>
                  </ion-item>
                  <div class="ion-padding" slot="content">
                    <ul>
                      ${p.details.missions
                        .slice(0, 3)
                        .map((m) => `<li>${m}</li>`)
                        .join("")}
                    </ul>
                  </div>
                </ion-accordion>
              </ion-accordion-group>
            </div>
          </ion-content>
        `;
      }
    }

    customElements.define("page-home", PageHome);
    customElements.define("page-planet", PagePlanet);
  </script>
</body>
</html>
